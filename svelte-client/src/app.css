@import "tailwindcss";

/* Theme CSS Variables */
:root {
    /* Default light theme colors will be set by JavaScript */
    color-scheme: light;
}

[data-theme="dark"] {
    color-scheme: dark;
}

/* Custom utility classes using CSS variables */
.bg-theme-primary {
    background-color: var(--color-background-primary);
}

.bg-theme-secondary {
    background-color: var(--color-background-secondary);
}

.bg-theme-tertiary {
    background-color: var(--color-background-tertiary);
}

.text-theme-primary {
    color: var(--color-text-primary);
}

.text-theme-secondary {
    color: var(--color-text-secondary);
}

.text-theme-tertiary {
    color: var(--color-text-tertiary);
}

.text-theme-muted {
    color: var(--color-text-muted);
}

.border-theme-primary {
    border-color: var(--color-border-primary);
}

.border-theme-secondary {
    border-color: var(--color-border-secondary);
}

.border-theme-focus {
    border-color: var(--color-border-focus);
}

.bg-sidebar {
    background-color: var(--color-sidebar-background);
}

.text-sidebar {
    color: var(--color-sidebar-text);
}

.text-sidebar-muted {
    color: var(--color-sidebar-textMuted);
}

.hover\:bg-sidebar-hover:hover {
    background-color: var(--color-sidebar-hover);
}

.bg-sidebar-active {
    background-color: var(--color-sidebar-active);
}

.border-sidebar {
    border-color: var(--color-sidebar-border);
}

.bg-btn-primary {
    background-color: var(--color-button-primary-background);
    color: var(--color-button-primary-text);
}

.bg-btn-primary:hover {
    background-color: var(--color-button-primary-hover);
}

.bg-btn-secondary {
    background-color: var(--color-button-secondary-background);
    color: var(--color-button-secondary-text);
}

.bg-btn-secondary:hover {
    background-color: var(--color-button-secondary-hover);
}

.bg-btn-danger {
    background-color: var(--color-button-danger-background);
    color: var(--color-button-danger-text);
}

.bg-btn-danger:hover {
    background-color: var(--color-button-danger-hover);
}

.bg-chat-user {
    background-color: var(--color-chat-userBubble);
    color: var(--color-chat-userText);
}

.bg-chat-bot {
    background-color: var(--color-chat-botBubble);
    color: var(--color-chat-botText);
}

.text-status-success {
    color: var(--color-status-success);
}

.text-status-warning {
    color: var(--color-status-warning);
}

.text-status-error {
    color: var(--color-status-error);
}

.text-status-info {
    color: var(--color-status-info);
}

.bg-status-success {
    background-color: var(--color-status-success);
}

.bg-status-warning {
    background-color: var(--color-status-warning);
}

.bg-status-error {
    background-color: var(--color-status-error);
}

.bg-status-info {
    background-color: var(--color-status-info);
}

/* Prose styling for AI responses to ensure readability in both themes */
.prose-themed {
    color: var(--color-text-secondary);
}

.prose-themed h1,
.prose-themed h2,
.prose-themed h3,
.prose-themed h4,
.prose-themed h5,
.prose-themed h6 {
    color: var(--color-text-primary);
    font-weight: 600;
}

.prose-themed strong,
.prose-themed b {
    color: var(--color-text-primary);
    font-weight: 600;
}

.prose-themed em,
.prose-themed i {
    color: var(--color-text-secondary);
    font-style: italic;
}

.prose-themed code {
    color: var(--color-text-primary);
    background-color: var(--color-background-secondary);
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
}

.prose-themed pre {
    background-color: var(--color-background-secondary);
    color: var(--color-text-primary);
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
}

.prose-themed pre code {
    background-color: transparent;
    padding: 0;
    color: inherit;
}

.prose-themed blockquote {
    border-left: 4px solid var(--color-border-secondary);
    padding-left: 1rem;
    color: var(--color-text-tertiary);
    font-style: italic;
}

.prose-themed ul,
.prose-themed ol {
    color: var(--color-text-secondary);
}

.prose-themed li {
    margin: 0.25rem 0;
}

.prose-themed a {
    color: var(--color-button-primary-background);
    text-decoration: underline;
}

.prose-themed a:hover {
    color: var(--color-button-primary-hover);
}

.prose-themed p {
    margin: 0.75rem 0;
    line-height: 1.6;
}

.prose-themed :first-child {
    margin-top: 0;
}

.prose-themed :last-child {
    margin-bottom: 0;
}

/* Enhanced Code Block Styling with Syntax Highlighting */
.code-block {
    background-color: var(--color-background-secondary);
    border: 1px solid var(--color-border-primary);
    border-radius: 0.5rem;
    padding: 1rem;
    margin: 1rem 0;
    overflow-x: auto;
    position: relative;
    font-family: 'Fira Code', 'Monaco', 'Cascadia Code', 'Roboto Mono', 'Consolas', 'Courier New', monospace;
    font-size: 0.875rem;
    line-height: 1.5;
}

.code-block::before {
    content: attr(data-language);
    position: absolute;
    top: 0.5rem;
    right: 0.75rem;
    background-color: var(--color-background-tertiary);
    color: var(--color-text-muted);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    opacity: 0.8;
    z-index: 2;
}

.code-block:hover::before {
    opacity: 1;
}

.code-block code {
    background: transparent !important;
    padding: 0 !important;
    border-radius: 0 !important;
    font-size: inherit !important;
    font-family: inherit !important;
    color: var(--color-text-primary);
    display: block;
    white-space: pre;
    margin-top: 1.5rem;
    /* Space for language label */
}

.code-inline {
    background-color: var(--color-background-secondary);
    color: var(--color-text-primary);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-family: 'Fira Code', 'Monaco', 'Cascadia Code', 'Roboto Mono', 'Consolas', 'Courier New', monospace;
    font-size: 0.875em;
    font-weight: 500;
    border: 1px solid var(--color-border-primary);
}

/* Prism.js Syntax Highlighting Theme */
/* Base tokens */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: var(--color-text-muted);
    font-style: italic;
}

.token.punctuation {
    color: var(--color-text-secondary);
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
    color: #f38ba8;
    /* Catppuccin pink for constants/numbers */
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #a6e3a1;
    /* Catppuccin green for strings */
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    color: #89b4fa;
    /* Catppuccin blue for operators */
}

.token.atrule,
.token.attr-value,
.token.keyword {
    color: #cba6f7;
    /* Catppuccin mauve for keywords */
}

.token.function,
.token.class-name {
    color: #f9e2af;
    /* Catppuccin yellow for functions */
}

.token.regex,
.token.important,
.token.variable {
    color: #fab387;
    /* Catppuccin peach for variables */
}

.token.important,
.token.bold {
    font-weight: bold;
}

.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}

/* Language-specific enhancements */
.token.namespace {
    opacity: 0.7;
}

/* JSON highlighting */
.language-json .token.property {
    color: #89b4fa;
    /* Blue for JSON keys */
}

.language-json .token.string {
    color: #a6e3a1;
    /* Green for JSON values */
}

/* CSS highlighting */
.language-css .token.selector {
    color: #f38ba8;
    /* Pink for CSS selectors */
}

.language-css .token.property {
    color: #89b4fa;
    /* Blue for CSS properties */
}

/* HTML highlighting */
.language-html .token.tag .token.tag {
    color: #f38ba8;
    /* Pink for HTML tags */
}

.language-html .token.attr-name {
    color: #fab387;
    /* Peach for HTML attributes */
}

.language-html .token.attr-value {
    color: #a6e3a1;
    /* Green for HTML attribute values */
}

/* JavaScript/TypeScript highlighting */
.language-javascript .token.keyword,
.language-typescript .token.keyword {
    color: #cba6f7;
    /* Mauve for JS/TS keywords */
}

.language-javascript .token.function,
.language-typescript .token.function {
    color: #f9e2af;
    /* Yellow for functions */
}

/* Python highlighting */
.language-python .token.decorator {
    color: #fab387;
    /* Peach for Python decorators */
}

.language-python .token.keyword {
    color: #cba6f7;
    /* Mauve for Python keywords */
}

/* Bash/Shell highlighting */
.language-bash .token.builtin,
.language-shell .token.builtin {
    color: #a6e3a1;
    /* Green for shell builtins */
}

.language-bash .token.variable,
.language-shell .token.variable {
    color: #fab387;
    /* Peach for shell variables */
}

/* Dark mode adjustments - colors are already Catppuccin which works well in dark */
[data-theme="dark"] .code-block {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .code-block::before {
    background-color: rgba(49, 50, 68, 0.8);
    /* Semi-transparent overlay */
}

/* Light mode adjustments */
[data-theme="light"] .token.comment,
[data-theme="light"] .token.prolog,
[data-theme="light"] .token.doctype,
[data-theme="light"] .token.cdata {
    color: #6b7280;
    /* Gray for comments in light mode */
}

[data-theme="light"] .token.property,
[data-theme="light"] .token.tag,
[data-theme="light"] .token.boolean,
[data-theme="light"] .token.number,
[data-theme="light"] .token.constant,
[data-theme="light"] .token.symbol,
[data-theme="light"] .token.deleted {
    color: #dc2626;
    /* Red for constants in light mode */
}

[data-theme="light"] .token.selector,
[data-theme="light"] .token.attr-name,
[data-theme="light"] .token.string,
[data-theme="light"] .token.char,
[data-theme="light"] .token.builtin,
[data-theme="light"] .token.inserted {
    color: #16a34a;
    /* Green for strings in light mode */
}

[data-theme="light"] .token.operator,
[data-theme="light"] .token.entity,
[data-theme="light"] .token.url,
[data-theme="light"] .language-css .token.string,
[data-theme="light"] .style .token.string {
    color: #2563eb;
    /* Blue for operators in light mode */
}

[data-theme="light"] .token.atrule,
[data-theme="light"] .token.attr-value,
[data-theme="light"] .token.keyword {
    color: #7c3aed;
    /* Purple for keywords in light mode */
}

[data-theme="light"] .token.function,
[data-theme="light"] .token.class-name {
    color: #d97706;
    /* Orange for functions in light mode */
}

[data-theme="light"] .token.regex,
[data-theme="light"] .token.important,
[data-theme="light"] .token.variable {
    color: #ea580c;
    /* Orange-red for variables in light mode */
}